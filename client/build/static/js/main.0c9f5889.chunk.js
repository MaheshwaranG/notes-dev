(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{41:function(e,t,n){e.exports=n(79)},77:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(5),o=n(8),i=n(6),s=n(9),c=(n(42),n(0)),u=n.n(c),l=n(36),p=n.n(l),d=n(7);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var h={server_api:"http://localhost:5000",actions:{FETCH_USER:"fetch_user",USER_LOGOUT:"user_logout"}},m=n(13),f=n(38),g={isUserLogin:null,user:null},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.actions.FETCH_USER:return{isUserLogin:!(!t.payload||!t.payload.googleId)||!1,user:t.payload};case h.actions.USER_LOGOUT:return{isUserLogin:!1,user:{}};default:return e}},E=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.d,v=n(84),b=n(83),y=n(82),j=n(39),U=n.n(j),L=n(26),w=n.n(L),k=n(40),C=n(27),S=n.n(C),_=n(80),x=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).windowClickListners=function(e){document.getElementById(n.props.id);e.target.id!==n.props.id&&e.target.id!==n.props.targetId&&n.state.isOpen&&!n.state.isStateChanged?(document.getElementById(n.props.id).style.display="none",n.setState({isOpen:!1})):n.setState({isStateChanged:!1})},n.popupWindowClick=function(){var e=document.getElementById(n.props.id);console.log("popup  click"),e.style.display="none",n.setState({isOpen:!1,isStateChanged:!0}),document.removeEventListener("click",n.popupWindowClick)},n.onClickComponent=function(e){},n.state={isStateChanged:!1,isOpen:e.isOpen},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){if(e.isOpen!==this.state.isOpen){var t=document.getElementById(this.props.id);if(e.isOpen){var n=document.getElementById("nave-user-profile");t.style.top=n.offsetTop+n.offsetHeight+5+"px",t.style.right=window.innerWidth-(n.offsetLeft+n.offsetWidth)+"px",t.style.display="block",document.addEventListener("click",this.popupWindowClick),this.setState({isOpen:e.isOpen,isStateChanged:!0})}else t.style.display="none",document.removeEventListener("click")}}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{class:"mg-popup",id:this.props.id,style:{top:10},onClick:function(t){return e.onClickComponent}},u.a.createElement("div",null,this.props.children))}}]),t}(c.Component),P=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).showPopup=function(){n.setState({isHeaderPopupOpen:!0})},n.userLogout=function(){n.props.logout()},n.state={isUserLogin:!1,isHeaderPopupOpen:!1},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"renderContent",value:function(){switch(this.state.isUserLogin){case null:return;case!1:return u.a.createElement("li",null,u.a.createElement("a",{href:"".concat(h.server_api,"/auth/google")},"Log in "));default:return u.a.createElement("li",null,u.a.createElement("span",{className:"nav-header-right-img"},u.a.createElement("img",{src:this.props.auth.user.photos[0].value,style:{borderRadius:"50%"},height:"50",width:"50",onClick:this.showPopup,id:"nave-user-profile"}),u.a.createElement(x,{id:"header-popup-user-Profile",targetId:"nave-user-profile",isOpen:this.state.isHeaderPopupOpen},"ggfffhhh")))}}},{key:"render",value:function(){return u.a.createElement("nav",null,u.a.createElement("div",{className:"navbar-fixed"},u.a.createElement("div",{className:"left brand-logo mg-padding-left"}," ",u.a.createElement(_.a,{to:"/"},"Emaily")),u.a.createElement("ul",{className:"right"},this.renderContent())))}}],[{key:"getDerivedStateFromProps",value:function(e,t){e.auth.isUserLogin;return{isUserLogin:e.auth.isUserLogin}}}]),t}(c.Component);var D=Object(d.b)(function(e){return{auth:e.auth}},function(e){return{logout:function(){return e(function(e){S.a.get("/api/logout").then(function(t){t.data.status&&"logout"===t.data.status&&e({type:h.actions.USER_LOGOUT})})})}}})(P),I=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{style:{textAlign:"center"}},u.a.createElement("h1",null,"Default Page"),u.a.createElement(_.a,{to:"/Dashboard"}," DashBoard "),u.a.createElement("h3",null,"Colllect your user information"))}}]),t}(c.Component),B=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){console.log(JSON.stringify(this.props.user))}},{key:"render",value:function(){return u.a.createElement("div",{style:{textAlign:"center"}},u.a.createElement("h1",null,"User Home Page"),u.a.createElement("h3",null,"welcome User!!!"))}}]),t}(c.Component),N=Object(d.b)(function(e){return{user:e.auth.user}},function(e){return{}})(B),R=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement("div",null,"Login Dash Board")}}]),t}(c.Component),T=function(){return u.a.createElement("div",{className:"loader"},u.a.createElement("img",{className:"loader__image",src:"/images/loader.gif"}))},W=n(17),H=n(81),F=Object(d.b)(function(e,t){return{isUserLogin:e.auth.isUserLogin}})(function(e){var t=e.isUserLogin,n=e.component,a=Object(W.a)(e,["isUserLogin","component"]);return u.a.createElement(y.a,Object.assign({},a,{component:function(e){return t?u.a.createElement(n,e):u.a.createElement(H.a,{to:"/"})}}))}),V=function(e){var t=e.isUserLogin,n=e.component,a=Object(W.a)(e,["isUserLogin","component"]);return u.a.createElement(y.a,Object.assign({},a,{component:function(e){return t?u.a.createElement(H.a,{to:"/Dashboard"}):u.a.createElement(n,e)}}))},G=(Object(d.b)(function(e,t){return{isUserLogin:e.auth.isUserLogin}})(d.b),U()()),J=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={isValidated:!1},n}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.props.fetchUser().then(function(t){e.setState({isValidated:!0})})}},{key:"render",value:function(){return u.a.createElement(v.a,{history:G},this.state.isValidated?u.a.createElement("div",null,u.a.createElement(D,null),u.a.createElement(b.a,null,u.a.createElement(V,{exact:!0,path:"/",component:I}),u.a.createElement(F,{exact:!0,path:"/Dashboard",component:N}),u.a.createElement(F,{exact:!0,path:"/surveys/new",component:R}))):u.a.createElement("div",null,u.a.createElement(y.a,{exact:!0,path:"/",component:T})))}}]),t}(c.Component),M=Object(d.b)(function(e){return{isUserLogin:e.auth.isUserLogin}},function(e){return{fetchUser:function(){return e(function(){var e=Object(k.a)(w.a.mark(function e(t){var n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/currentUser");case 2:n=e.sent,Promise.resolve(t({type:h.actions.FETCH_USER,payload:n.data}));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}}})(J),A=(n(77),Object(m.e)(Object(m.c)({auth:O}),E(Object(m.a)(f.a)))),X=(c.Component,u.a.createElement(d.a,{store:A},u.a.createElement(M,null))),$=!1;$||(p.a.render(X,document.getElementById("root")),$=!0),A.auth&&A.auth.isUserLogin,"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[41,2,1]]]);
//# sourceMappingURL=main.0c9f5889.chunk.js.map